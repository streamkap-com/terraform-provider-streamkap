---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "streamkap_topic_metrics Data Source - terraform-provider-streamkap"
subcategory: ""
description: |-
  Retrieves metrics for specific Streamkap Kafka topics.
  Use this data source to query throughput and latency metrics for topics.
  Documentation https://docs.streamkap.com/streamkap-provider-for-terraform
---

# streamkap_topic_metrics (Data Source)

Retrieves metrics for specific **Streamkap Kafka topics**.

Use this data source to query throughput and latency metrics for topics.

[Documentation](https://docs.streamkap.com/streamkap-provider-for-terraform)

## Example Usage

```terraform
# Get metrics for specific topics
# Note: Use streamkap_topics data source first to get topic_db_ids
data "streamkap_topic_metrics" "example" {
  entities = [
    {
      id           = "source-123"
      entity_type  = "sources"
      connector    = "postgresql"
      topic_ids    = ["source-123.public.users", "source-123.public.orders"]
      topic_db_ids = ["64abc123def456789012345a", "64abc123def456789012345b"]
    },
    {
      id           = "transform-456"
      entity_type  = "transforms"
      connector    = "map_filter"
      topic_ids    = ["transform-456.filtered_users"]
      topic_db_ids = ["64abc123def456789012345c"]
    }
  ]

  time_interval = 24
  time_unit     = "hours"
}

# Output metrics
output "topic_throughput" {
  value = {
    for r in data.streamkap_topic_metrics.example.results :
    r.topic_id => {
      messages_in  = r.messages_in
      messages_out = r.messages_out
      lag          = r.lag
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `entities` (Attributes List) List of entities with their topic IDs to get metrics for. (see [below for nested schema](#nestedatt--entities))

### Optional

- `time_interval` (Number) Time interval for aggregation. Defaults to `1`.
- `time_unit` (String) Time unit for interval. Valid values: `minutes`, `hours`, `days`. Defaults to `hours`.

### Read-Only

- `results` (Attributes List) Metrics results for each topic. (see [below for nested schema](#nestedatt--results))

<a id="nestedatt--entities"></a>
### Nested Schema for `entities`

Required:

- `connector` (String) Connector type (e.g., `postgresql`, `snowflake`, `map_filter`).
- `entity_type` (String) Entity type. Valid values: `sources`, `transforms`, `destinations`.
- `id` (String) Entity ID (source, transform, or destination ID).
- `topic_db_ids` (List of String) List of topic database IDs (MongoDB ObjectIds).
- `topic_ids` (List of String) List of topic IDs for this entity.


<a id="nestedatt--results"></a>
### Nested Schema for `results`

Read-Only:

- `avg_latency_ms` (Number) Average latency in milliseconds.
- `bytes_in` (Number) Bytes received.
- `bytes_out` (Number) Bytes sent.
- `entity_id` (String) Entity ID.
- `lag` (Number) Consumer lag.
- `messages_in` (Number) Number of messages received.
- `messages_out` (Number) Number of messages sent.
- `topic_id` (String) Topic ID.
