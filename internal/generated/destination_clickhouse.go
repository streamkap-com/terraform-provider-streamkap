// Code generated by tfgen. DO NOT EDIT.

package generated

import (
	"github.com/hashicorp/terraform-plugin-framework-timeouts/resource/timeouts"
	"github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
	"github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/booldefault"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/int64default"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/planmodifier"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/stringdefault"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
	"github.com/hashicorp/terraform-plugin-framework/schema/validator"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

type clickHouseTopicsConfigMapItemModel struct {
	DeleteSQLExecute types.String `tfsdk:"delete_sql_execute"`
}

// DestinationClickhouseModel is the Terraform model for the clickhouse destination.
type DestinationClickhouseModel struct {
	ID                    types.String                                  `tfsdk:"id"`
	Name                  types.String                                  `tfsdk:"name"`
	Connector             types.String                                  `tfsdk:"connector"`
	IngestionMode         types.String                                  `tfsdk:"ingestion_mode"`
	HardDelete            types.Bool                                    `tfsdk:"hard_delete"`
	TasksMax              types.Int64                                   `tfsdk:"tasks_max"`
	Hostname              types.String                                  `tfsdk:"hostname"`
	ConnectionUsername    types.String                                  `tfsdk:"connection_username"`
	ConnectionPassword    types.String                                  `tfsdk:"connection_password"`
	Port                  types.Int64                                   `tfsdk:"port"`
	Database              types.String                                  `tfsdk:"database"`
	SSL                   types.Bool                                    `tfsdk:"ssl"`
	ClickhouseJsonSupport types.String                                  `tfsdk:"clickhouse_json_support"`
	SchemaEvolution       types.String                                  `tfsdk:"schema_evolution"`
	TopicsConfigMap       map[string]clickHouseTopicsConfigMapItemModel `tfsdk:"topics_config_map"`
	Timeouts              timeouts.Value                                `tfsdk:"timeouts"`
}

// DestinationClickhouseSchema returns the Terraform schema for the clickhouse destination.
func DestinationClickhouseSchema() schema.Schema {
	return schema.Schema{
		Description: "Manages a ClickHouse destination connector.",
		MarkdownDescription: "Manages a **ClickHouse destination connector**.\n\n" +
			"This resource creates and manages a ClickHouse destination for Streamkap data pipelines.\n\n" +
			"[Documentation](https://docs.streamkap.com/streamkap-provider-for-terraform)",
		Attributes: map[string]schema.Attribute{
			"id": schema.StringAttribute{
				Computed:            true,
				Description:         "Unique identifier for the destination",
				MarkdownDescription: "Unique identifier for the destination",
				PlanModifiers: []planmodifier.String{
					stringplanmodifier.UseStateForUnknown(),
				},
			},
			"name": schema.StringAttribute{
				Required:            true,
				Description:         "Name of the destination",
				MarkdownDescription: "Name of the destination",
			},
			"connector": schema.StringAttribute{
				Computed:            true,
				Description:         "Connector type",
				MarkdownDescription: "Connector type",
				PlanModifiers: []planmodifier.String{
					stringplanmodifier.UseStateForUnknown(),
				},
			},
			"ingestion_mode": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Upsert or append modes are available Defaults to \"upsert\". Valid values: upsert, append.",
				MarkdownDescription: "Upsert or append modes are available Defaults to `upsert`. Valid values: `upsert`, `append`.",
				Default:             stringdefault.StaticString("upsert"),
				Validators: []validator.String{
					stringvalidator.OneOf("upsert", "append"),
				},
			},
			"hard_delete": schema.BoolAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Specifies whether the connector processes DELETE or tombstone events and removes the corresponding row from the database (applies to `upsert` only) Defaults to true.",
				MarkdownDescription: "Specifies whether the connector processes DELETE or tombstone events and removes the corresponding row from the database (applies to `upsert` only) Defaults to `true`.",
				Default:             booldefault.StaticBool(true),
			},
			"tasks_max": schema.Int64Attribute{
				Optional:            true,
				Computed:            true,
				Description:         "The maximum number of active task Defaults to 5.",
				MarkdownDescription: "The maximum number of active task Defaults to `5`.",
				Default:             int64default.StaticInt64(5),
				Validators: []validator.Int64{
					int64validator.Between(1, 10),
				},
			},
			"hostname": schema.StringAttribute{
				Required:            true,
				Description:         "ClickHouse Hostname Or IP address",
				MarkdownDescription: "ClickHouse Hostname Or IP address",
			},
			"connection_username": schema.StringAttribute{
				Required:            true,
				Description:         "Username to access ClickHouse",
				MarkdownDescription: "Username to access ClickHouse",
			},
			"connection_password": schema.StringAttribute{
				Required:            true,
				Sensitive:           true,
				Description:         "Password to access the ClickHouse This value is sensitive and will not appear in logs or CLI output.",
				MarkdownDescription: "Password to access the ClickHouse\n\n**Security:** This value is marked sensitive and will not appear in CLI output or logs.",
			},
			"port": schema.Int64Attribute{
				Optional:            true,
				Computed:            true,
				Description:         "ClickHouse Port. For example, 8443 Defaults to 8443.",
				MarkdownDescription: "ClickHouse Port. For example, 8443 Defaults to `8443`.",
				Default:             int64default.StaticInt64(8443),
			},
			"database": schema.StringAttribute{
				Optional:            true,
				Description:         "ClickHouse database",
				MarkdownDescription: "ClickHouse database",
			},
			"ssl": schema.BoolAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Enable TLS for network connections Defaults to true.",
				MarkdownDescription: "Enable TLS for network connections Defaults to `true`.",
				Default:             booldefault.StaticBool(true),
			},
			"clickhouse_json_support": schema.StringAttribute{
				Optional:            true,
				Description:         "Allow JSON data type in ClickHouse, make sure the ClickHouse server supports it. If not set, the connector will use String type for JSON data.",
				MarkdownDescription: "Allow JSON data type in ClickHouse, make sure the ClickHouse server supports it. If not set, the connector will use String type for JSON data.",
			},
			"schema_evolution": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Controls how schema evolution is handled by the sink connector. For pipelines with pre-created destination tables, set to `NONE` Defaults to \"basic\". Valid values: basic, none.",
				MarkdownDescription: "Controls how schema evolution is handled by the sink connector. For pipelines with pre-created destination tables, set to `NONE` Defaults to `basic`. Valid values: `basic`, `none`.",
				Default:             stringdefault.StaticString("basic"),
				Validators: []validator.String{
					stringvalidator.OneOf("basic", "none"),
				},
			},
			"topics_config_map": schema.MapNestedAttribute{
				Optional: true,
				NestedObject: schema.NestedAttributeObject{
					Attributes: map[string]schema.Attribute{
						"delete_sql_execute": schema.StringAttribute{
							Optional: true,
						},
					},
				},
				Description:         "Per topic configuration in JSON format",
				MarkdownDescription: "Per topic configuration in JSON format",
			},
		},
	}
}

// DestinationClickhouseFieldMappings maps Terraform attribute names to API field names.
var DestinationClickhouseFieldMappings = map[string]string{
	"ingestion_mode":          "ingestion.mode",
	"hard_delete":             "hard.delete",
	"tasks_max":               "tasks.max",
	"hostname":                "hostname",
	"connection_username":     "connection.username",
	"connection_password":     "connection.password",
	"port":                    "port",
	"database":                "database",
	"ssl":                     "ssl",
	"clickhouse_json_support": "clickhouse.json.support",
	"schema_evolution":        "schema.evolution",
	"topics_config_map":       "topics.config.map",
}
