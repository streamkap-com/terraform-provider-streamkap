// Code generated by tfgen. DO NOT EDIT.

package generated

import (
	"github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/planmodifier"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/stringdefault"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
	"github.com/hashicorp/terraform-plugin-framework/schema/validator"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

// DestinationIcebergModel is the Terraform model for the iceberg destination.
type DestinationIcebergModel struct {
	ID                                types.String `tfsdk:"id"`
	Name                              types.String `tfsdk:"name"`
	Connector                         types.String `tfsdk:"connector"`
	IcebergCatalogType                types.String `tfsdk:"iceberg_catalog_type"`
	IcebergCatalogName                types.String `tfsdk:"iceberg_catalog_name"`
	IcebergCatalogClientAssumeRoleARN types.String `tfsdk:"iceberg_catalog_client_assume_role_arn"`
	IcebergCatalogUri                 types.String `tfsdk:"iceberg_catalog_uri"`
	IcebergCatalogS3AccessKeyID       types.String `tfsdk:"iceberg_catalog_s3_access_key_id"`
	IcebergCatalogS3SecretAccessKey   types.String `tfsdk:"iceberg_catalog_s3_secret_access_key"`
	IcebergCatalogClientRegion        types.String `tfsdk:"iceberg_catalog_client_region"`
	IcebergCatalogWarehouse           types.String `tfsdk:"iceberg_catalog_warehouse"`
	TableNamePrefix                   types.String `tfsdk:"table_name_prefix"`
	InsertMode                        types.String `tfsdk:"insert_mode"`
	IcebergTablesDefaultIDColumns     types.String `tfsdk:"iceberg_tables_default_id_columns"`
}

// DestinationIcebergSchema returns the Terraform schema for the iceberg destination.
func DestinationIcebergSchema() schema.Schema {
	return schema.Schema{
		Description: "Manages a Iceberg destination connector.",
		MarkdownDescription: "Manages a **Iceberg destination connector**.\n\n" +
			"This resource creates and manages a Iceberg destination for Streamkap data pipelines.\n\n" +
			"[Documentation](https://docs.streamkap.com/streamkap-provider-for-terraform)",
		Attributes: map[string]schema.Attribute{
			"id": schema.StringAttribute{
				Computed:            true,
				Description:         "Unique identifier for the destination",
				MarkdownDescription: "Unique identifier for the destination",
				PlanModifiers: []planmodifier.String{
					stringplanmodifier.UseStateForUnknown(),
				},
			},
			"name": schema.StringAttribute{
				Required:            true,
				Description:         "Name of the destination",
				MarkdownDescription: "Name of the destination",
			},
			"connector": schema.StringAttribute{
				Computed:            true,
				Description:         "Connector type",
				MarkdownDescription: "Connector type",
				PlanModifiers: []planmodifier.String{
					stringplanmodifier.UseStateForUnknown(),
				},
			},
			"iceberg_catalog_type": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Type of Iceberg catalog Defaults to \"rest\". Valid values: rest, hive, glue.",
				MarkdownDescription: "Type of Iceberg catalog Defaults to `rest`. Valid values: `rest`, `hive`, `glue`.",
				Default:             stringdefault.StaticString("rest"),
				Validators: []validator.String{
					stringvalidator.OneOf("rest", "hive", "glue"),
				},
			},
			"iceberg_catalog_name": schema.StringAttribute{
				Optional:            true,
				Description:         "Iceberg catalog name",
				MarkdownDescription: "Iceberg catalog name",
			},
			"iceberg_catalog_client_assume_role_arn": schema.StringAttribute{
				Optional:            true,
				Description:         "AWS IAM role (e.g., arn:aws:iam::<your-account>:role/<role-name>)",
				MarkdownDescription: "AWS IAM role (e.g., arn:aws:iam::<your-account>:role/<role-name>)",
			},
			"iceberg_catalog_uri": schema.StringAttribute{
				Optional:            true,
				Description:         "Iceberg catalog uri",
				MarkdownDescription: "Iceberg catalog uri",
			},
			"iceberg_catalog_s3_access_key_id": schema.StringAttribute{
				Optional:            true,
				Description:         "The AWS Access Key ID used to connect to S3.",
				MarkdownDescription: "The AWS Access Key ID used to connect to S3.",
			},
			"iceberg_catalog_s3_secret_access_key": schema.StringAttribute{
				Optional:            true,
				Sensitive:           true,
				Description:         "The AWS Secret Access Key used to connect to S3. This value is sensitive and will not appear in logs or CLI output.",
				MarkdownDescription: "The AWS Secret Access Key used to connect to S3.\n\n**Security:** This value is marked sensitive and will not appear in CLI output or logs.",
			},
			"iceberg_catalog_client_region": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "The AWS region to be used Defaults to \"us-west-2\". Valid values: ap-south-1, eu-west-2, eu-west-1, ap-northeast-2, ap-northeast-1, ca-central-1, sa-east-1, cn-north-1, us-gov-west-1, ap-southeast-1, ap-southeast-2, eu-central-1, us-east-1, us-east-2, us-west-1, us-west-2.",
				MarkdownDescription: "The AWS region to be used Defaults to `us-west-2`. Valid values: `ap-south-1`, `eu-west-2`, `eu-west-1`, `ap-northeast-2`, `ap-northeast-1`, `ca-central-1`, `sa-east-1`, `cn-north-1`, `us-gov-west-1`, `ap-southeast-1`, `ap-southeast-2`, `eu-central-1`, `us-east-1`, `us-east-2`, `us-west-1`, `us-west-2`.",
				Default:             stringdefault.StaticString("us-west-2"),
				Validators: []validator.String{
					stringvalidator.OneOf("ap-south-1", "eu-west-2", "eu-west-1", "ap-northeast-2", "ap-northeast-1", "ca-central-1", "sa-east-1", "cn-north-1", "us-gov-west-1", "ap-southeast-1", "ap-southeast-2", "eu-central-1", "us-east-1", "us-east-2", "us-west-1", "us-west-2"),
				},
			},
			"iceberg_catalog_warehouse": schema.StringAttribute{
				Required:            true,
				Description:         "The S3 Bucket path to use.",
				MarkdownDescription: "The S3 Bucket path to use.",
			},
			"table_name_prefix": schema.StringAttribute{
				Required:            true,
				Description:         "Name of the database schema that contains the table (e.g., public, sales, analytics).",
				MarkdownDescription: "Name of the database schema that contains the table (e.g., public, sales, analytics).",
			},
			"insert_mode": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Specifies the strategy used to insert events into the database Defaults to \"insert\". Valid values: insert, upsert.",
				MarkdownDescription: "Specifies the strategy used to insert events into the database Defaults to `insert`. Valid values: `insert`, `upsert`.",
				Default:             stringdefault.StaticString("insert"),
				Validators: []validator.String{
					stringvalidator.OneOf("insert", "upsert"),
				},
			},
			"iceberg_tables_default_id_columns": schema.StringAttribute{
				Optional:            true,
				Description:         "Optional. A comma-separated list of field names to use as record identifiers when key fields are not present in Kafka messages",
				MarkdownDescription: "Optional. A comma-separated list of field names to use as record identifiers when key fields are not present in Kafka messages",
			},
		},
	}
}

// DestinationIcebergFieldMappings maps Terraform attribute names to API field names.
var DestinationIcebergFieldMappings = map[string]string{
	"iceberg_catalog_type":                   "iceberg.catalog.type",
	"iceberg_catalog_name":                   "iceberg.catalog.name",
	"iceberg_catalog_client_assume_role_arn": "iceberg.catalog.client.assume-role.arn",
	"iceberg_catalog_uri":                    "iceberg.catalog.uri",
	"iceberg_catalog_s3_access_key_id":       "iceberg.catalog.s3.access-key-id",
	"iceberg_catalog_s3_secret_access_key":   "iceberg.catalog.s3.secret-access-key",
	"iceberg_catalog_client_region":          "iceberg.catalog.client.region.user.defined",
	"iceberg_catalog_warehouse":              "iceberg.catalog.warehouse",
	"table_name_prefix":                      "table.name.prefix",
	"insert_mode":                            "insert.mode.user.defined",
	"iceberg_tables_default_id_columns":      "iceberg.tables.default-id-columns",
}
