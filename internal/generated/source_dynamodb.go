// Code generated by tfgen. DO NOT EDIT.

package generated

import (
	"github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/booldefault"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/int64default"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/planmodifier"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
	"github.com/hashicorp/terraform-plugin-framework/schema/validator"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

// SourceDynamodbModel is the Terraform model for the dynamodb source.
type SourceDynamodbModel struct {
	ID                            types.String `tfsdk:"id"`
	Name                          types.String `tfsdk:"name"`
	Connector                     types.String `tfsdk:"connector"`
	AwsRegion                     types.String `tfsdk:"aws_region"`
	AwsAccessKeyID                types.String `tfsdk:"aws_access_key_id"`
	AwsSecretKey                  types.String `tfsdk:"aws_secret_key"`
	S3ExportBucketName            types.String `tfsdk:"s3_export_bucket_name"`
	TableIncludeList              types.String `tfsdk:"table_include_list"`
	BatchSize                     types.Int64  `tfsdk:"batch_size"`
	DynamodbServiceEndpoint       types.String `tfsdk:"dynamodb_service_endpoint"`
	TasksMax                      types.Int64  `tfsdk:"tasks_max"`
	SnapshotParallelTimeOffset    types.Int64  `tfsdk:"snapshot_parallel_time_offset"`
	PollTimeoutMs                 types.Int64  `tfsdk:"poll_timeout_ms"`
	IncrementalSnapshotChunkSize  types.Int64  `tfsdk:"incremental_snapshot_chunk_size"`
	IncrementalSnapshotMaxThreads types.Int64  `tfsdk:"incremental_snapshot_max_threads"`
	FullExportExpirationTimeMs    types.Int64  `tfsdk:"full_export_expiration_time_ms"`
	SignalKafkaPollTimeoutMs      types.Int64  `tfsdk:"signal_kafka_poll_timeout_ms"`
	ArrayEncodingJson             types.Bool   `tfsdk:"array_encoding_json"`
	StructEncodingJson            types.Bool   `tfsdk:"struct_encoding_json"`
}

// SourceDynamodbSchema returns the Terraform schema for the dynamodb source.
func SourceDynamodbSchema() schema.Schema {
	return schema.Schema{
		MarkdownDescription: "DynamoDB source connector",
		Attributes: map[string]schema.Attribute{
			"id": schema.StringAttribute{
				Computed:            true,
				MarkdownDescription: "Unique identifier for the source",
				PlanModifiers: []planmodifier.String{
					stringplanmodifier.UseStateForUnknown(),
				},
			},
			"name": schema.StringAttribute{
				Required:            true,
				MarkdownDescription: "Name of the source",
			},
			"connector": schema.StringAttribute{
				Computed:            true,
				MarkdownDescription: "Connector type",
				PlanModifiers: []planmodifier.String{
					stringplanmodifier.UseStateForUnknown(),
				},
			},
			"aws_region": schema.StringAttribute{
				Required:            true,
				MarkdownDescription: "AWS Region",
			},
			"aws_access_key_id": schema.StringAttribute{
				Required:            true,
				Sensitive:           true,
				MarkdownDescription: "AWS Access Key ID",
			},
			"aws_secret_key": schema.StringAttribute{
				Required:            true,
				Sensitive:           true,
				MarkdownDescription: "AWS Secret Key",
			},
			"s3_export_bucket_name": schema.StringAttribute{
				Required:            true,
				MarkdownDescription: "used for backfill (snapshot)",
			},
			"table_include_list": schema.StringAttribute{
				Required:            true,
				MarkdownDescription: "Source tables to sync.",
			},
			"batch_size": schema.Int64Attribute{
				Optional: true,
			},
			"dynamodb_service_endpoint": schema.StringAttribute{
				Optional:            true,
				MarkdownDescription: "Dynamodb Service Endpoint (optional)",
			},
			"tasks_max": schema.Int64Attribute{
				Optional:            true,
				Computed:            true,
				MarkdownDescription: "The maximum number of active tasks",
				Default:             int64default.StaticInt64(10),
				Validators: []validator.Int64{
					int64validator.Between(1, 40),
				},
			},
			"snapshot_parallel_time_offset": schema.Int64Attribute{
				Optional:            true,
				Computed:            true,
				MarkdownDescription: "If > 0, snapshot will run in parallel with streaming and snapshot records _streamkap_ts_ms will be set back in time by this amount to prioritize CDC events downstream",
				Default:             int64default.StaticInt64(0),
				Validators: []validator.Int64{
					int64validator.Between(0, 604800000),
				},
			},
			"poll_timeout_ms": schema.Int64Attribute{
				Optional:            true,
				Computed:            true,
				MarkdownDescription: "Poll Timeout (ms)",
				Default:             int64default.StaticInt64(0),
			},
			"incremental_snapshot_chunk_size": schema.Int64Attribute{
				Optional:            true,
				Computed:            true,
				MarkdownDescription: "Incremental snapshot chunk size",
				Default:             int64default.StaticInt64(0),
			},
			"incremental_snapshot_max_threads": schema.Int64Attribute{
				Optional:            true,
				Computed:            true,
				MarkdownDescription: "Incremental snapshot max threads",
				Default:             int64default.StaticInt64(0),
			},
			"full_export_expiration_time_ms": schema.Int64Attribute{
				Optional:            true,
				Computed:            true,
				MarkdownDescription: "Full Export Expiration Time (ms)",
				Default:             int64default.StaticInt64(0),
			},
			"signal_kafka_poll_timeout_ms": schema.Int64Attribute{
				Optional:            true,
				Computed:            true,
				MarkdownDescription: "Signal Kafka Poll Timeout (ms)",
				Default:             int64default.StaticInt64(0),
			},
			"array_encoding_json": schema.BoolAttribute{
				Optional:            true,
				Computed:            true,
				MarkdownDescription: "Force nested lists as JSON string",
				Default:             booldefault.StaticBool(true),
			},
			"struct_encoding_json": schema.BoolAttribute{
				Optional:            true,
				Computed:            true,
				MarkdownDescription: "Force nested maps as JSON string",
				Default:             booldefault.StaticBool(true),
			},
		},
	}
}

// SourceDynamodbFieldMappings maps Terraform attribute names to API field names.
var SourceDynamodbFieldMappings = map[string]string{
	"aws_region":                       "aws.region",
	"aws_access_key_id":                "aws.access.key.id",
	"aws_secret_key":                   "aws.secret.key",
	"s3_export_bucket_name":            "s3.export.bucket.name",
	"table_include_list":               "table.include.list.user.defined",
	"batch_size":                       "batch.size",
	"dynamodb_service_endpoint":        "dynamodb.service.endpoint",
	"tasks_max":                        "tasks.max",
	"snapshot_parallel_time_offset":    "snapshot.parallel.time.offset",
	"poll_timeout_ms":                  "poll.timeout.ms",
	"incremental_snapshot_chunk_size":  "incremental.snapshot.chunk.size",
	"incremental_snapshot_max_threads": "incremental.snapshot.max.threads",
	"full_export_expiration_time_ms":   "full.export.expiration.time.ms",
	"signal_kafka_poll_timeout_ms":     "signal.kafka.poll.timeout.ms",
	"array_encoding_json":              "array.encoding.json",
	"struct_encoding_json":             "struct.encoding.json",
}
