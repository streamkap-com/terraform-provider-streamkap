// Code generated by tfgen. DO NOT EDIT.

package generated

import (
	"github.com/hashicorp/terraform-plugin-framework-timeouts/resource/timeouts"
	"github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
	"github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/booldefault"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/int64default"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/planmodifier"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/stringdefault"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
	"github.com/hashicorp/terraform-plugin-framework/schema/validator"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

// SourcePostgresqlModel is the Terraform model for the postgresql source.
type SourcePostgresqlModel struct {
	ID                                      types.String `tfsdk:"id"`
	Name                                    types.String `tfsdk:"name"`
	Connector                               types.String `tfsdk:"connector"`
	DatabaseHostname                        types.String `tfsdk:"database_hostname"`
	DatabasePort                            types.Int64  `tfsdk:"database_port"`
	DatabaseUser                            types.String `tfsdk:"database_user"`
	DatabasePassword                        types.String `tfsdk:"database_password"`
	DatabaseDbname                          types.String `tfsdk:"database_dbname"`
	SnapshotReadOnly                        types.String `tfsdk:"snapshot_read_only"`
	SignalDataCollectionSchemaOrDatabase    types.String `tfsdk:"signal_data_collection_schema_or_database"`
	ColumnIncludeListToggled                types.Bool   `tfsdk:"column_include_list_toggled"`
	ColumnIncludeList                       types.String `tfsdk:"column_include_list"`
	ColumnExcludeList                       types.String `tfsdk:"column_exclude_list"`
	HeartbeatEnabled                        types.Bool   `tfsdk:"heartbeat_enabled"`
	HeartbeatDataCollectionSchemaOrDatabase types.String `tfsdk:"heartbeat_data_collection_schema_or_database"`
	SlotName                                types.String `tfsdk:"slot_name"`
	PublicationName                         types.String `tfsdk:"publication_name"`
	SchemaIncludeList                       types.String `tfsdk:"schema_include_list"`
	TableIncludeList                        types.String `tfsdk:"table_include_list"`
	DatabaseSslmode                         types.String `tfsdk:"database_sslmode"`
	IncludeSourceDBNameInTableName          types.Bool   `tfsdk:"include_source_db_name_in_table_name"`
	BinaryHandlingMode                      types.String `tfsdk:"binary_handling_mode"`
	TransformsInsertStaticKey1StaticField   types.String `tfsdk:"transforms_insert_static_key1_static_field"`
	TransformsInsertStaticKey1StaticValue   types.String `tfsdk:"transforms_insert_static_key1_static_value"`
	TransformsInsertStaticValue1StaticField types.String `tfsdk:"transforms_insert_static_value1_static_field"`
	TransformsInsertStaticValue1StaticValue types.String `tfsdk:"transforms_insert_static_value1_static_value"`
	TransformsInsertStaticKey2StaticField   types.String `tfsdk:"transforms_insert_static_key2_static_field"`
	TransformsInsertStaticKey2StaticValue   types.String `tfsdk:"transforms_insert_static_key2_static_value"`
	TransformsInsertStaticValue2StaticField types.String `tfsdk:"transforms_insert_static_value2_static_field"`
	TransformsInsertStaticValue2StaticValue types.String `tfsdk:"transforms_insert_static_value2_static_value"`
	PredicatesIsTopicToEnrichPattern        types.String `tfsdk:"predicates_is_topic_to_enrich_pattern"`
	StreamkapSnapshotParallelism            types.Int64  `tfsdk:"streamkap_snapshot_parallelism"`
	StreamkapSnapshotLargeTableThreshold    types.Int64  `tfsdk:"streamkap_snapshot_large_table_threshold"`
	StreamkapSnapshotCustomTableConfig      types.String `tfsdk:"streamkap_snapshot_custom_table_config"`
	SSHEnabled                              types.Bool   `tfsdk:"ssh_enabled"`
	SSHHost                                 types.String `tfsdk:"ssh_host"`
	SSHPort                                 types.Int64  `tfsdk:"ssh_port"`
	SSHUser                                 types.String `tfsdk:"ssh_user"`
	SSHPublicKey                            types.String `tfsdk:"ssh_public_key"`
	// Deprecated fields - kept for backward compatibility
	InsertStaticKeyField1            types.String   `tfsdk:"insert_static_key_field_1"`
	InsertStaticKeyValue1            types.String   `tfsdk:"insert_static_key_value_1"`
	InsertStaticValueField1          types.String   `tfsdk:"insert_static_value_field_1"`
	InsertStaticValue1               types.String   `tfsdk:"insert_static_value_1"`
	InsertStaticKeyField2            types.String   `tfsdk:"insert_static_key_field_2"`
	InsertStaticKeyValue2            types.String   `tfsdk:"insert_static_key_value_2"`
	InsertStaticValueField2          types.String   `tfsdk:"insert_static_value_field_2"`
	InsertStaticValue2               types.String   `tfsdk:"insert_static_value_2"`
	PredicatesIstopictoenrichPattern types.String   `tfsdk:"predicates_istopictoenrich_pattern"`
	Timeouts                         timeouts.Value `tfsdk:"timeouts"`
}

// SourcePostgresqlSchema returns the Terraform schema for the postgresql source.
func SourcePostgresqlSchema() schema.Schema {
	return schema.Schema{
		Description: "Manages a PostgreSQL source connector.",
		MarkdownDescription: "Manages a **PostgreSQL source connector**.\n\n" +
			"This resource creates and manages a PostgreSQL source for Streamkap data pipelines.\n\n" +
			"[Documentation](https://docs.streamkap.com/streamkap-provider-for-terraform)",
		Attributes: map[string]schema.Attribute{
			"id": schema.StringAttribute{
				Computed:            true,
				Description:         "Unique identifier for the source",
				MarkdownDescription: "Unique identifier for the source",
				PlanModifiers: []planmodifier.String{
					stringplanmodifier.UseStateForUnknown(),
				},
			},
			"name": schema.StringAttribute{
				Required:            true,
				Description:         "Name of the source",
				MarkdownDescription: "Name of the source",
			},
			"connector": schema.StringAttribute{
				Computed:            true,
				Description:         "Connector type",
				MarkdownDescription: "Connector type",
				PlanModifiers: []planmodifier.String{
					stringplanmodifier.UseStateForUnknown(),
				},
			},
			"database_hostname": schema.StringAttribute{
				Required:            true,
				Description:         "PostgreSQL Hostname. For example, postgres.something.rds.amazonaws.com",
				MarkdownDescription: "PostgreSQL Hostname. For example, postgres.something.rds.amazonaws.com",
			},
			"database_port": schema.Int64Attribute{
				Optional:            true,
				Computed:            true,
				Description:         "PostgreSQL Port. For example, 5432 Defaults to 5432.",
				MarkdownDescription: "PostgreSQL Port. For example, 5432 Defaults to `5432`.",
				Default:             int64default.StaticInt64(5432),
			},
			"database_user": schema.StringAttribute{
				Required:            true,
				Description:         "Username to access the database",
				MarkdownDescription: "Username to access the database",
			},
			"database_password": schema.StringAttribute{
				Required:            true,
				Sensitive:           true,
				Description:         "Password to access the database This value is sensitive and will not appear in logs or CLI output.",
				MarkdownDescription: "Password to access the database\n\n**Security:** This value is marked sensitive and will not appear in CLI output or logs.",
			},
			"database_dbname": schema.StringAttribute{
				Required:            true,
				Description:         "Database from which to stream data",
				MarkdownDescription: "Database from which to stream data",
			},
			"snapshot_read_only": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "When connecting to a read replica PostgreSQL database, this must be set to 'Yes' to support Streamkap snapshots Defaults to \"Yes\". Valid values: Yes, No.",
				MarkdownDescription: "When connecting to a read replica PostgreSQL database, this must be set to 'Yes' to support Streamkap snapshots Defaults to `Yes`. Valid values: `Yes`, `No`.",
				Default:             stringdefault.StaticString("Yes"),
				Validators: []validator.String{
					stringvalidator.OneOf("Yes", "No"),
				},
			},
			"signal_data_collection_schema_or_database": schema.StringAttribute{
				Required:            true,
				Description:         "Streamkap will use a table in this schema to monitor incremental snapshotting. Follow the instructions in the documentation for creating this table and specify which schema to use here.",
				MarkdownDescription: "Streamkap will use a table in this schema to monitor incremental snapshotting. Follow the instructions in the documentation for creating this table and specify which schema to use here.",
			},
			"column_include_list_toggled": schema.BoolAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Toggle between Inclusion (include only selected columns) and Exclusion (exclude selected columns). Defaults to Inclusion (On). Defaults to true.",
				MarkdownDescription: "Toggle between Inclusion (include only selected columns) and Exclusion (exclude selected columns). Defaults to Inclusion (On). Defaults to `true`.",
				Default:             booldefault.StaticBool(true),
			},
			"column_include_list": schema.StringAttribute{
				Optional:            true,
				Description:         "An optional, comma-separated list of regular expressions that match the fully-qualified names of columns that should be included in change event record values. Fully-qualified names for columns are of the form schemaName[.]tableName[.](columnName1|columnName2)",
				MarkdownDescription: "An optional, comma-separated list of regular expressions that match the fully-qualified names of columns that should be included in change event record values. Fully-qualified names for columns are of the form schemaName[.]tableName[.](columnName1|columnName2)",
			},
			"column_exclude_list": schema.StringAttribute{
				Optional:            true,
				Description:         "An optional, comma-separated list of regular expressions that match the fully-qualified names of columns that should be excluded from change event record values. Fully-qualified names for columns are of the form schemaName.tableName.columnName.",
				MarkdownDescription: "An optional, comma-separated list of regular expressions that match the fully-qualified names of columns that should be excluded from change event record values. Fully-qualified names for columns are of the form schemaName.tableName.columnName.",
			},
			"heartbeat_enabled": schema.BoolAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Heartbeats are used to monitor whether the connector is still receiving change events from the database, especially when there is low and intermittent traffic. Defaults to true.",
				MarkdownDescription: "Heartbeats are used to monitor whether the connector is still receiving change events from the database, especially when there is low and intermittent traffic. Defaults to `true`.",
				Default:             booldefault.StaticBool(true),
			},
			"heartbeat_data_collection_schema_or_database": schema.StringAttribute{
				Required:            true,
				Description:         "Streamkap will use a table in this database to simulate activity from the source database to keep the database transaction log 'alive'.",
				MarkdownDescription: "Streamkap will use a table in this database to simulate activity from the source database to keep the database transaction log 'alive'.",
			},
			"slot_name": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "The name of the replication slot for the connector to use. Defaults to \"streamkap_pgoutput_slot\".",
				MarkdownDescription: "The name of the replication slot for the connector to use. Defaults to `streamkap_pgoutput_slot`.",
				Default:             stringdefault.StaticString("streamkap_pgoutput_slot"),
			},
			"publication_name": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "The name of the publication for the connector to use. Defaults to \"streamkap_pub\".",
				MarkdownDescription: "The name of the publication for the connector to use. Defaults to `streamkap_pub`.",
				Default:             stringdefault.StaticString("streamkap_pub"),
			},
			"schema_include_list": schema.StringAttribute{
				Required:            true,
				Description:         "Schemas to include.",
				MarkdownDescription: "Schemas to include.",
			},
			"table_include_list": schema.StringAttribute{
				Required:            true,
				Description:         "Source tables to sync.",
				MarkdownDescription: "Source tables to sync.",
			},
			"database_sslmode": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Whether to use an encrypted connection to the PostgreSQL server Defaults to \"require\". Valid values: require, disable.",
				MarkdownDescription: "Whether to use an encrypted connection to the PostgreSQL server Defaults to `require`. Valid values: `require`, `disable`.",
				Default:             stringdefault.StaticString("require"),
				Validators: []validator.String{
					stringvalidator.OneOf("require", "disable"),
				},
			},
			"include_source_db_name_in_table_name": schema.BoolAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Changes the format of topics to 'DatabaseName_TopicName' Defaults to false.",
				MarkdownDescription: "Changes the format of topics to 'DatabaseName_TopicName' Defaults to `false`.",
				Default:             booldefault.StaticBool(false),
			},
			"binary_handling_mode": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Specifies how the data for binary columns e.g. blob, binary, varbinary should be represented. This setting depends on what the destination is. See the documentation for more details. Defaults to \"bytes\". Valid values: bytes, base64, base64-url-safe, hex.",
				MarkdownDescription: "Specifies how the data for binary columns e.g. blob, binary, varbinary should be represented. This setting depends on what the destination is. See the documentation for more details. Defaults to `bytes`. Valid values: `bytes`, `base64`, `base64-url-safe`, `hex`.",
				Default:             stringdefault.StaticString("bytes"),
				Validators: []validator.String{
					stringvalidator.OneOf("bytes", "base64", "base64-url-safe", "hex"),
				},
			},
			"transforms_insert_static_key1_static_field": schema.StringAttribute{
				Optional:            true,
				Description:         "The name of the static field to be added to the message key.",
				MarkdownDescription: "The name of the static field to be added to the message key.",
			},
			"transforms_insert_static_key1_static_value": schema.StringAttribute{
				Optional:            true,
				Description:         "The value of the static field to be added to the message key.",
				MarkdownDescription: "The value of the static field to be added to the message key.",
			},
			"transforms_insert_static_value1_static_field": schema.StringAttribute{
				Optional:            true,
				Description:         "The name of the static field to be added to the message value.",
				MarkdownDescription: "The name of the static field to be added to the message value.",
			},
			"transforms_insert_static_value1_static_value": schema.StringAttribute{
				Optional:            true,
				Description:         "The value of the static field to be added to the message value.",
				MarkdownDescription: "The value of the static field to be added to the message value.",
			},
			"transforms_insert_static_key2_static_field": schema.StringAttribute{
				Optional:            true,
				Description:         "The name of the static field to be added to the message key.",
				MarkdownDescription: "The name of the static field to be added to the message key.",
			},
			"transforms_insert_static_key2_static_value": schema.StringAttribute{
				Optional:            true,
				Description:         "The value of the static field to be added to the message key.",
				MarkdownDescription: "The value of the static field to be added to the message key.",
			},
			"transforms_insert_static_value2_static_field": schema.StringAttribute{
				Optional:            true,
				Description:         "The name of the static field to be added to the message value.",
				MarkdownDescription: "The name of the static field to be added to the message value.",
			},
			"transforms_insert_static_value2_static_value": schema.StringAttribute{
				Optional:            true,
				Description:         "The value of the static field to be added to the message value.",
				MarkdownDescription: "The value of the static field to be added to the message value.",
			},
			"predicates_is_topic_to_enrich_pattern": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Regex pattern to match topics for enrichment. Defaults to \"$^\".",
				MarkdownDescription: "Regex pattern to match topics for enrichment. Defaults to `$^`.",
				Default:             stringdefault.StaticString("$^"),
			},
			"streamkap_snapshot_parallelism": schema.Int64Attribute{
				Optional:            true,
				Computed:            true,
				Description:         "How many parallel chunk requests to send to the source DB. Defaults to 1.",
				MarkdownDescription: "How many parallel chunk requests to send to the source DB. Defaults to `1`.",
				Default:             int64default.StaticInt64(1),
				Validators: []validator.Int64{
					int64validator.Between(1, 10),
				},
			},
			"streamkap_snapshot_large_table_threshold": schema.Int64Attribute{
				Optional:            true,
				Computed:            true,
				Description:         "The threshold in MB for a Large Table to require multiple chunks to be read in parallel. Defaults to 20000.",
				MarkdownDescription: "The threshold in MB for a Large Table to require multiple chunks to be read in parallel. Defaults to `20000`.",
				Default:             int64default.StaticInt64(20000),
				Validators: []validator.Int64{
					int64validator.Between(1, 64000),
				},
			},
			"streamkap_snapshot_custom_table_config": schema.StringAttribute{
				Optional:            true,
				Description:         "Explicitly set nb of parallel chunks for tables. Format: {\"db.Some_Tbl\": {\"chunks\": 5}}. This allows manual settings for parallelization when stats are outdated and estimated table size cannot be computed reliably.",
				MarkdownDescription: "Explicitly set nb of parallel chunks for tables. Format: {\"db.Some_Tbl\": {\"chunks\": 5}}. This allows manual settings for parallelization when stats are outdated and estimated table size cannot be computed reliably.",
			},
			"ssh_enabled": schema.BoolAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Streamkap will connect to SSH server in your network which has access to your database. This is necessary if Streamkap cannot connect directly to your database. Defaults to false.",
				MarkdownDescription: "Streamkap will connect to SSH server in your network which has access to your database. This is necessary if Streamkap cannot connect directly to your database. Defaults to `false`.",
				Default:             booldefault.StaticBool(false),
			},
			"ssh_host": schema.StringAttribute{
				Optional:            true,
				Description:         "Hostname of your SSH server",
				MarkdownDescription: "Hostname of your SSH server",
			},
			"ssh_port": schema.Int64Attribute{
				Optional:            true,
				Computed:            true,
				Description:         "Port of your SSH server Defaults to 22.",
				MarkdownDescription: "Port of your SSH server Defaults to `22`.",
				Default:             int64default.StaticInt64(22),
			},
			"ssh_user": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "User that allows Streamkap to connect to SSH server Defaults to \"streamkap\".",
				MarkdownDescription: "User that allows Streamkap to connect to SSH server Defaults to `streamkap`.",
				Default:             stringdefault.StaticString("streamkap"),
			},
			"ssh_public_key": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Public key to add to SSH server Defaults to \"<SSH.PUBLIC.KEY>\".",
				MarkdownDescription: "Public key to add to SSH server Defaults to `<SSH.PUBLIC.KEY>`.",
				Default:             stringdefault.StaticString("<SSH.PUBLIC.KEY>"),
			},
			// Deprecated fields - kept for backward compatibility
			"insert_static_key_field_1": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Deprecated: Use transforms_insert_static_key1_static_field instead. The name of the static field to be added to the message key.",
				MarkdownDescription: "**Deprecated:** Use `transforms_insert_static_key1_static_field` instead. The name of the static field to be added to the message key.",
				DeprecationMessage:  "Use transforms_insert_static_key1_static_field instead",
				Default:             stringdefault.StaticString(""),
			},
			"insert_static_key_value_1": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Deprecated: Use transforms_insert_static_key1_static_value instead. The value of the static field to be added to the message key.",
				MarkdownDescription: "**Deprecated:** Use `transforms_insert_static_key1_static_value` instead. The value of the static field to be added to the message key.",
				DeprecationMessage:  "Use transforms_insert_static_key1_static_value instead",
				Default:             stringdefault.StaticString(""),
			},
			"insert_static_value_field_1": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Deprecated: Use transforms_insert_static_value1_static_field instead. The name of the static field to be added to the message value.",
				MarkdownDescription: "**Deprecated:** Use `transforms_insert_static_value1_static_field` instead. The name of the static field to be added to the message value.",
				DeprecationMessage:  "Use transforms_insert_static_value1_static_field instead",
				Default:             stringdefault.StaticString(""),
			},
			"insert_static_value_1": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Deprecated: Use transforms_insert_static_value1_static_value instead. The value of the static field to be added to the message value.",
				MarkdownDescription: "**Deprecated:** Use `transforms_insert_static_value1_static_value` instead. The value of the static field to be added to the message value.",
				DeprecationMessage:  "Use transforms_insert_static_value1_static_value instead",
				Default:             stringdefault.StaticString(""),
			},
		},
	}
}

// SourcePostgresqlFieldMappings maps Terraform attribute names to API field names.
var SourcePostgresqlFieldMappings = map[string]string{
	"database_hostname":                            "database.hostname.user.defined",
	"database_port":                                "database.port.user.defined",
	"database_user":                                "database.user",
	"database_password":                            "database.password",
	"database_dbname":                              "database.dbname",
	"snapshot_read_only":                           "snapshot.read.only.user.defined",
	"signal_data_collection_schema_or_database":    "signal.data.collection.schema.or.database",
	"column_include_list_toggled":                  "column.include.list.toggled",
	"column_include_list":                          "column.include.list.user.defined",
	"column_exclude_list":                          "column.exclude.list.user.defined",
	"heartbeat_enabled":                            "heartbeat.enabled",
	"heartbeat_data_collection_schema_or_database": "heartbeat.data.collection.schema.or.database",
	"slot_name":                                    "slot.name",
	"publication_name":                             "publication.name",
	"schema_include_list":                          "schema.include.list",
	"table_include_list":                           "table.include.list.user.defined",
	"database_sslmode":                             "database.sslmode",
	"include_source_db_name_in_table_name":         "include.source.db.name.in.table.name.user.defined",
	"binary_handling_mode":                         "binary.handling.mode",
	"transforms_insert_static_key1_static_field":   "transforms.InsertStaticKey1.static.field",
	"transforms_insert_static_key1_static_value":   "transforms.InsertStaticKey1.static.value",
	"transforms_insert_static_value1_static_field": "transforms.InsertStaticValue1.static.field",
	"transforms_insert_static_value1_static_value": "transforms.InsertStaticValue1.static.value",
	"transforms_insert_static_key2_static_field":   "transforms.InsertStaticKey2.static.field",
	"transforms_insert_static_key2_static_value":   "transforms.InsertStaticKey2.static.value",
	"transforms_insert_static_value2_static_field": "transforms.InsertStaticValue2.static.field",
	"transforms_insert_static_value2_static_value": "transforms.InsertStaticValue2.static.value",
	"predicates_is_topic_to_enrich_pattern":        "predicates.IsTopicToEnrich.pattern",
	"streamkap_snapshot_parallelism":               "streamkap.snapshot.parallelism",
	"streamkap_snapshot_large_table_threshold":     "streamkap.snapshot.large.table.threshold",
	"streamkap_snapshot_custom_table_config":       "streamkap.snapshot.custom.table.config.user.defined",
	"ssh_enabled":                                  "ssh.enabled",
	"ssh_host":                                     "ssh.host",
	"ssh_port":                                     "ssh.port",
	"ssh_user":                                     "ssh.user",
	"ssh_public_key":                               "ssh.public.key.user.displayed",
}
