// Code generated by tfgen. DO NOT EDIT.

package generated

import (
	"github.com/hashicorp/terraform-plugin-framework-timeouts/resource/timeouts"
	"github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/booldefault"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/int64default"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/planmodifier"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/stringdefault"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/stringplanmodifier"
	"github.com/hashicorp/terraform-plugin-framework/schema/validator"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

// SourcePlanetscaleModel is the Terraform model for the planetscale source.
type SourcePlanetscaleModel struct {
	ID                                                 types.String   `tfsdk:"id"`
	Name                                               types.String   `tfsdk:"name"`
	Connector                                          types.String   `tfsdk:"connector"`
	DatabaseHostname                                   types.String   `tfsdk:"database_hostname"`
	DatabasePort                                       types.Int64    `tfsdk:"database_port"`
	DatabaseUser                                       types.String   `tfsdk:"database_user"`
	DatabasePassword                                   types.String   `tfsdk:"database_password"`
	VitessKeyspace                                     types.String   `tfsdk:"vitess_keyspace"`
	VitessTabletType                                   types.String   `tfsdk:"vitess_tablet_type"`
	ConverterTinyintBool                               types.Bool     `tfsdk:"converter_tinyint_bool"`
	TableIncludeList                                   types.String   `tfsdk:"table_include_list"`
	SchemaHistoryInternalStoreOnlyCapturedDatabasesDdl types.Bool     `tfsdk:"schema_history_internal_store_only_captured_databases_ddl"`
	SchemaHistoryInternalStoreOnlyCapturedTablesDdl    types.Bool     `tfsdk:"schema_history_internal_store_only_captured_tables_ddl"`
	SSHEnabled                                         types.Bool     `tfsdk:"ssh_enabled"`
	SSHHost                                            types.String   `tfsdk:"ssh_host"`
	SSHPort                                            types.Int64    `tfsdk:"ssh_port"`
	SSHUser                                            types.String   `tfsdk:"ssh_user"`
	SSHPublicKey                                       types.String   `tfsdk:"ssh_public_key"`
	ColumnExcludeList                                  types.String   `tfsdk:"column_exclude_list"`
	Timeouts                                           timeouts.Value `tfsdk:"timeouts"`
}

// SourcePlanetscaleSchema returns the Terraform schema for the planetscale source.
func SourcePlanetscaleSchema() schema.Schema {
	return schema.Schema{
		Description: "Manages a Planetscale Vitess source connector.",
		MarkdownDescription: "Manages a **Planetscale Vitess source connector**.\n\n" +
			"This resource creates and manages a Planetscale Vitess source for Streamkap data pipelines.\n\n" +
			"[Documentation](https://docs.streamkap.com/streamkap-provider-for-terraform)",
		Attributes: map[string]schema.Attribute{
			"id": schema.StringAttribute{
				Computed:            true,
				Description:         "Unique identifier for the source",
				MarkdownDescription: "Unique identifier for the source",
				PlanModifiers: []planmodifier.String{
					stringplanmodifier.UseStateForUnknown(),
				},
			},
			"name": schema.StringAttribute{
				Required:            true,
				Description:         "Name of the source",
				MarkdownDescription: "Name of the source",
			},
			"connector": schema.StringAttribute{
				Computed:            true,
				Description:         "Connector type",
				MarkdownDescription: "Connector type",
				PlanModifiers: []planmodifier.String{
					stringplanmodifier.UseStateForUnknown(),
				},
			},
			"database_hostname": schema.StringAttribute{
				Required:            true,
				Description:         "IP address or hostname of the PlanetScale database server (VTGate).",
				MarkdownDescription: "IP address or hostname of the PlanetScale database server (VTGate).",
			},
			"database_port": schema.Int64Attribute{
				Optional:            true,
				Computed:            true,
				Description:         "Integer port number of the PlanetScale database server (VTGate). Defaults to 443.",
				MarkdownDescription: "Integer port number of the PlanetScale database server (VTGate). Defaults to `443`.",
				Default:             int64default.StaticInt64(443),
			},
			"database_user": schema.StringAttribute{
				Required:            true,
				Description:         "Username of the PlanetScale database server (VTGate).",
				MarkdownDescription: "Username of the PlanetScale database server (VTGate).",
			},
			"database_password": schema.StringAttribute{
				Required:            true,
				Sensitive:           true,
				Description:         "Password of the PlanetScale database server (VTGate). This value is sensitive and will not appear in logs or CLI output.",
				MarkdownDescription: "Password of the PlanetScale database server (VTGate).\n\n**Security:** This value is marked sensitive and will not appear in CLI output or logs.",
			},
			"vitess_keyspace": schema.StringAttribute{
				Required:            true,
				Description:         "The name of the keyspace from which to stream the changes.",
				MarkdownDescription: "The name of the keyspace from which to stream the changes.",
			},
			"vitess_tablet_type": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "The type of Tablet (hence MySQL) from which to stream the changes Defaults to \"MASTER\". Valid values: MASTER, REPLICA, RDONLY.",
				MarkdownDescription: "The type of Tablet (hence MySQL) from which to stream the changes Defaults to `MASTER`. Valid values: `MASTER`, `REPLICA`, `RDONLY`.",
				Default:             stringdefault.StaticString("MASTER"),
				Validators: []validator.String{
					stringvalidator.OneOf("MASTER", "REPLICA", "RDONLY"),
				},
			},
			"converter_tinyint_bool": schema.BoolAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Convert tinyInt(1) columns to boolean Defaults to false.",
				MarkdownDescription: "Convert tinyInt(1) columns to boolean Defaults to `false`.",
				Default:             booldefault.StaticBool(false),
			},
			"table_include_list": schema.StringAttribute{
				Required:            true,
				Description:         "Source tables to sync.",
				MarkdownDescription: "Source tables to sync.",
			},
			"schema_history_internal_store_only_captured_databases_ddl": schema.BoolAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Specifies whether the connector records schema structures from all logical databases in the database instance or only captured databases. Enabling this when you have many databases in your instance can improve performance and avoid timeouts. Defaults to false.",
				MarkdownDescription: "Specifies whether the connector records schema structures from all logical databases in the database instance or only captured databases. Enabling this when you have many databases in your instance can improve performance and avoid timeouts. Defaults to `false`.",
				Default:             booldefault.StaticBool(false),
			},
			"schema_history_internal_store_only_captured_tables_ddl": schema.BoolAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Specifies whether the connector records schema structures from all logical tables in the captured schemas or databases, or only captured tables. Enabling this when you have many tables can improve performance and avoid timeouts. Defaults to false.",
				MarkdownDescription: "Specifies whether the connector records schema structures from all logical tables in the captured schemas or databases, or only captured tables. Enabling this when you have many tables can improve performance and avoid timeouts. Defaults to `false`.",
				Default:             booldefault.StaticBool(false),
			},
			"ssh_enabled": schema.BoolAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Streamkap will connect to SSH server in your network which has access to your database. This is necessary if Streamkap cannot connect directly to your database. Defaults to false.",
				MarkdownDescription: "Streamkap will connect to SSH server in your network which has access to your database. This is necessary if Streamkap cannot connect directly to your database. Defaults to `false`.",
				Default:             booldefault.StaticBool(false),
			},
			"ssh_host": schema.StringAttribute{
				Optional:            true,
				Description:         "Hostname of your SSH server",
				MarkdownDescription: "Hostname of your SSH server",
			},
			"ssh_port": schema.Int64Attribute{
				Optional:            true,
				Computed:            true,
				Description:         "Port of your SSH server Defaults to 22.",
				MarkdownDescription: "Port of your SSH server Defaults to `22`.",
				Default:             int64default.StaticInt64(22),
			},
			"ssh_user": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "User that allows Streamkap to connect to SSH server Defaults to \"streamkap\".",
				MarkdownDescription: "User that allows Streamkap to connect to SSH server Defaults to `streamkap`.",
				Default:             stringdefault.StaticString("streamkap"),
			},
			"ssh_public_key": schema.StringAttribute{
				Optional:            true,
				Computed:            true,
				Description:         "Public key to add to SSH server Defaults to \"<SSH.PUBLIC.KEY>\".",
				MarkdownDescription: "Public key to add to SSH server Defaults to `<SSH.PUBLIC.KEY>`.",
				Default:             stringdefault.StaticString("<SSH.PUBLIC.KEY>"),
			},
			"column_exclude_list": schema.StringAttribute{
				Optional:            true,
				Description:         "An optional, comma-separated list of regular expressions that match the fully-qualified names of columns that should be excluded from change event record values. Fully-qualified names for columns are of the form schemaName.tableName.columnName.",
				MarkdownDescription: "An optional, comma-separated list of regular expressions that match the fully-qualified names of columns that should be excluded from change event record values. Fully-qualified names for columns are of the form schemaName.tableName.columnName.",
			},
		},
	}
}

// SourcePlanetscaleFieldMappings maps Terraform attribute names to API field names.
var SourcePlanetscaleFieldMappings = map[string]string{
	"database_hostname":      "database.hostname.user.defined",
	"database_port":          "database.port.user.defined",
	"database_user":          "database.user",
	"database_password":      "database.password",
	"vitess_keyspace":        "vitess.keyspace",
	"vitess_tablet_type":     "vitess.tablet.type",
	"converter_tinyint_bool": "converter.tinyintBool.user.defined",
	"table_include_list":     "table.include.list.user.defined",
	"schema_history_internal_store_only_captured_databases_ddl": "schema.history.internal.store.only.captured.databases.ddl",
	"schema_history_internal_store_only_captured_tables_ddl":    "schema.history.internal.store.only.captured.tables.ddl",
	"ssh_enabled":         "ssh.enabled",
	"ssh_host":            "ssh.host",
	"ssh_port":            "ssh.port",
	"ssh_user":            "ssh.user",
	"ssh_public_key":      "ssh.public.key.user.displayed",
	"column_exclude_list": "column.exclude.list.user.defined",
}
